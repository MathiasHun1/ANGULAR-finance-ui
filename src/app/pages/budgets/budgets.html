<div class="page-title-container">
  <h1 class="page-title">Budgets</h1>
</div>

<div class="d-flex flex-column gap-5">
  @for (budget of budgets(); track budget) {

  <div class="custom-card" style="padding: 2rem">
    <div class="d-flex align-items-center pb-3">
      <div
        class="p-2 rounded-circle me-3"
        [style.backgroundColor]="budget.theme"
      ></div>
      <h2 class="budget-title m-0 fs-5 fw-bolder">{{ budget.category }}</h2>
    </div>

    <p class="fs-7 text-grey-500 m-0 pb-3">Maximum of {{ budget.maximum }}$</p>

    <!-- Custom progress bar -->
    <div class="progress-body mb-3">
      <div class="progress-bar" [style.backgroundColor]="budget.theme"></div>
    </div>

    <h2>Spent:</h2>

    <!-- Last spendings card -->
    <div class="list-group custom-card bg-beige-100 p-3">
      @for(transaction of filterTransactions(budget.category); track
      transaction) {
      <div
        class="list-group-item fs-8 d-flex align-items-center justify-content-between py-3"
      >
        <div class="d-flex align-items-center">
          <img
            [src]="transaction.avatar"
            alt=""
            class="avatar rounded-circle"
          />
          <p class="m-0 fs-7 ps-3 fw-bolder">{{ transaction.name }}</p>
        </div>

        <div class="d-flex flex-column text-end">
          <span class="fw-bold">
            {{ transaction.amount | currency }}
          </span>
          <span class="text-grey-500">
            {{ transaction.date | date : "dd MMM yyyy" }}
          </span>
        </div>
      </div>
      }
    </div>
  </div>
  }
</div>
